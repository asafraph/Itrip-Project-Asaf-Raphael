{"version":3,"sources":["logo.png","Login.jsx","Register.jsx","Main.jsx","Vacconfig.jsx","Removevac.jsx","Reports.jsx","App.js","index.js","redux/reducers.js"],"names":["module","exports","Login","history","dispatch","useDispatch","user","useSelector","state","useState","username","setUsername","password","setPassword","errMsg","setErrMsg","React","open","setOpen","useEffect","Fname","push","handleSubmit","e","a","fetch","method","headers","body","JSON","stringify","res","json","data","error","msg","decoded","jwt_decode","token","localStorage","setTimeout","type","removeItem","payload","console","log","className","TextField","margin","variant","label","onChange","target","value","Button","onClick","color","to","Snackbar","anchorOrigin","vertical","horizontal","onClose","event","reason","message","Register","setFName","Lname","setLName","name","Main","vacations","setVacations","userId","id","result","getData","handleUpdateVacation","vacationId","parentElement","vacation","find","v","handleRemoveVacation","handleFollow","checked","VFU","followUsers","handleFollowUsers","getFollowId","removedFollow","VID","map","Paper","key","elevation","category","FormControlLabel","control","Checkbox","icon","checkedIcon","user_id","city","country","src","image","alt","departureDate","slice","replace","returnDate","price","description","Vacconfig","setDepartureDate","setReturnDate","addingVacation","defaultValue","multiline","rows","fullWidth","utils","DateFnsUtils","Grid","container","justify","disableToolbar","format","date","KeyboardButtonProps","Removevac","Reports","chartData","labels","followers","length","forEach","datasets","backgroundColor","yAxisID","options","maintainAspectRatio","scales","yAxes","stacked","App","logout","handleAddVacation","AppBar","position","Toolbar","logo","width","style","Typography","path","component","from","store","createStore","combineReducers","action","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.82931748.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.13d0397b.png\";","import React, { useEffect, useState } from 'react'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport { Link } from 'react-router-dom';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport jwt_decode from 'jwt-decode'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\n\r\nconst Login = ({history}) => {\r\n\r\n    const dispatch = useDispatch()\r\n    const user = useSelector(state => state.user)\r\n    const [username, setUsername] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [errMsg, setErrMsg] = useState('')\r\n\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    useEffect(()=>{\r\n        if (user.Fname){\r\n            history.push('/main')\r\n        }\r\n    }, [user, history])\r\n    const handleClose = (event, reason) => {\r\n        // if (reason === 'clickaway') {\r\n        //     return;\r\n        // }\r\n\r\n        setOpen(false);\r\n    };\r\n    const handleSubmit = async (e) => {\r\n        // e.preventDefault()\r\n        let res = await fetch(\"http://localhost:1000/users/login\", {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({ username, password })\r\n        })\r\n        let data = await res.json()\r\n        if (data.error) {\r\n            setErrMsg(data.msg)\r\n            handleOpen()\r\n        }else{\r\n            let decoded = jwt_decode(data.token)\r\n            localStorage.token = data.token\r\n            setTimeout(()=>dispatch({type:'LOGOUT'}), 10*60*1000)\r\n            setTimeout(()=>localStorage.removeItem(\"token\"), 10*60*1000)\r\n            // console.log(decoded)\r\n            dispatch({\r\n                type:\"LOGIN\",\r\n                payload: decoded\r\n            })\r\n            history.push('/main')\r\n        }\r\n        console.log(data)\r\n    }\r\n\r\n    return (\r\n        <div className=\"login-cont\">\r\n            <form className=\"login-form\">\r\n                <TextField margin=\"normal\" className=\"login-inp\" variant=\"outlined\" label=\"User name\" onChange={e => setUsername(e.target.value)} />\r\n                <TextField margin=\"normal\" className=\"login-inp\" variant=\"outlined\" label=\"Password\" type=\"password\" onChange={e => setPassword(e.target.value)} />\r\n                <Button onClick={handleSubmit} variant=\"contained\" color=\"primary\">\r\n                    LOGIN\r\n                </Button>\r\n                <span className=\"span\">dont have an account yet?\r\n                    <Link to=\"/register\"> sign in</Link>\r\n                </span>\r\n            </form>\r\n            <Snackbar\r\n                anchorOrigin={{ vertical:'bottom', horizontal:\"center\" }}\r\n                open={open}\r\n                onClose={handleClose}\r\n                message={errMsg}\r\n                // key={vertical + horizontal}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React, { useEffect, useState } from 'react'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport { useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nconst Register = ({history}) => {\r\n\r\n    const user = useSelector(state => state.user)\r\n\r\n    \r\n    const [Fname, setFName] = useState('')\r\n    const [Lname, setLName] = useState('')\r\n    const [username, setUsername] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [errMsg, setErrMsg] = useState('')\r\n\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n    };\r\n    const handleClose = (event, reason) => {\r\n        setOpen(false);\r\n    };\r\n\r\n    useEffect(()=>{\r\n        if (user.name){\r\n            history.push('/main')\r\n        }\r\n    }, [user, history])\r\n\r\n    const handleSubmit = async (e) => {\r\n    //     // e.preventDefault()\r\n        let res = await fetch(\"http://localhost:1000/users/register\", {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({ Fname, Lname, username, password })\r\n        })\r\n        let data = await res.json()\r\n        if (data.error) {\r\n            setErrMsg(data.msg)\r\n            handleOpen()\r\n        }else{\r\n            history.push('/main')\r\n        }\r\n    //     console.log(data)\r\n    }\r\n    return (\r\n        <div className=\"register-cont\">\r\n            <form className=\"register-form\">\r\n                <TextField margin=\"normal\" className=\"register-inp\" variant=\"outlined\" label=\"first name\" onChange={e => setFName(e.target.value)} />\r\n                <TextField margin=\"normal\" className=\"register-inp\" variant=\"outlined\" label=\"last name\" onChange={e => setLName(e.target.value)} />\r\n                <TextField margin=\"normal\" className=\"register-inp\" variant=\"outlined\" label=\"Username\" onChange={e => setUsername(e.target.value)} />\r\n                <TextField margin=\"normal\" className=\"register-inp\" variant=\"outlined\" label=\"Password\" type=\"password\" onChange={e => setPassword(e.target.value)} />\r\n                <Button onClick={handleSubmit} variant=\"contained\" color=\"primary\">\r\n                    SIGN IN\r\n                </Button>                \r\n                <span className=\"span\">already have an account?\r\n                    <Link to=\"/login\"> login</Link>\r\n                </span>\r\n            </form>\r\n            <Snackbar\r\n                anchorOrigin={{ vertical:'bottom', horizontal:\"center\" }}\r\n                open={open}\r\n                onClose={handleClose}\r\n                message={errMsg}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { NavLink } from 'react-router-dom';\r\nimport CreateIcon from '@material-ui/icons/Create';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Favorite from '@material-ui/icons/Favorite';\r\nimport FavoriteBorder from '@material-ui/icons/FavoriteBorder';\r\n\r\n\r\nconst Main = ({ history }) => {\r\n    const [vacations, setVacations] = useState([])\r\n    const dispatch = useDispatch()\r\n    const user = useSelector(state => state.user)\r\n    console.log(user)\r\n\r\n    useEffect(() => {\r\n        if (!user.Fname) {\r\n            history.push('/login')\r\n        }\r\n    }, [user, history])\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            let userId = user.id\r\n        const res = await fetch('http://localhost:1000/follow/' + userId)\r\n        const data = await res.json()\r\n        console.log(data)\r\n        setVacations(data.result)\r\n        })()\r\n    }, [user.id])\r\n\r\n    const getData = async () => {\r\n        let userId = user.id\r\n        const res = await fetch('http://localhost:1000/follow/' + userId)\r\n        const data = await res.json()\r\n        console.log(data)\r\n        setVacations(data.result)\r\n    }\r\n\r\n\r\n    const handleUpdateVacation = (e) => {\r\n        let vacationId = e.target.parentElement.parentElement.parentElement.id\r\n        console.log(vacationId)\r\n        let vacation = vacations.find(v => v.id === vacationId)\r\n        dispatch({\r\n            type: 'UPDATE_VACATION',\r\n            payload: vacation\r\n        })\r\n    }\r\n\r\n    const handleRemoveVacation = (e) => {\r\n        let vacationId = e.target.parentElement.parentElement.parentElement.id\r\n        let vacation = vacations.find(v => v.id === vacationId)\r\n        dispatch({\r\n            type: 'REMOVE_VACATION',\r\n            payload: vacation\r\n        })\r\n    }\r\n\r\n    const handleFollow = async (e) => {\r\n        let vacationId = e.target.parentElement.parentElement.parentElement.parentElement.id\r\n        let vacation = vacations.find(v => v.id === vacationId)\r\n        let userId = user.id\r\n        if (e.target.checked) {\r\n            // add\r\n            let res = await fetch(\"http://localhost:1000/follow\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({ userId, vacationId })\r\n            })\r\n            let data = await res.json()\r\n            if (data.error) {\r\n                console.log(data.error)\r\n            }else{\r\n\r\n                let VFU = vacation.followUsers + 1\r\n                handleFollowUsers(vacationId, VFU)\r\n                getData()\r\n            }\r\n\r\n        } else {\r\n            //remove\r\n            const removedFollow = await getFollowId(userId, vacationId)\r\n            console.log(removedFollow)\r\n            let res = await fetch(`http://localhost:1000/follow/remove/${removedFollow}`, {\r\n                method: \"PUT\",\r\n                headers: { \"Content-Type\": \"application/json\" }\r\n            })\r\n            let data = await res.json()\r\n            if (data.error) {\r\n                console.log(data.error)\r\n            } else {\r\n\r\n                let VFU = vacation.followUsers-1\r\n                handleFollowUsers(vacationId, VFU)\r\n                getData()\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleFollowUsers = async (VID, followUsers) => {\r\n        let res = await fetch(`http://localhost:1000/follow/update/${VID}`, {\r\n            method: \"PUT\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({ followUsers })\r\n        })\r\n        let data = await res.json()\r\n        if (data.error) {\r\n            console.log(data.error)\r\n        }\r\n        getData()\r\n    }\r\n\r\n    const getFollowId = async (userId, vacationId) => {\r\n        let res = await fetch('http://localhost:1000/follow/getid', {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({ userId, vacationId })\r\n        })\r\n        const data = await res.json()\r\n        console.log(data)\r\n        return data.result[0].id\r\n    }\r\n\r\n    return (\r\n        <div className=\"main\">\r\n            <div className='vacations-cont'>\r\n                {vacations.map(v => (\r\n                    <Paper key={v.id} className='vacation-paper' id={v.id} elevation={3}>\r\n                        {user.category === \"admin\" ? (\r\n                            <div className=\"btns-cont\" id={v.id}>\r\n                                <NavLink to='/update' onClick={handleUpdateVacation}><CreateIcon /></NavLink>\r\n                                <NavLink to='/remove' onClick={handleRemoveVacation}><CloseIcon /></NavLink>\r\n                            </div>\r\n                        ) : (\r\n                                <>\r\n                                    <FormControlLabel\r\n                                        control={<Checkbox icon={<FavoriteBorder />} checkedIcon={<Favorite />} name=\"checkedH\" />}\r\n                                        label=\"FOLLOW\" onChange={handleFollow} checked={v.user_id != null ? (true) : (false)}\r\n                                    />\r\n                                </>\r\n                            )}\r\n                        <h4 className=\"prop\">{v.city}</h4>\r\n                        <h3 className=\"prop\">{v.country}</h3>\r\n                        <img className=\"vacation-image\" src={v.image} alt=\"\" />\r\n                        <h3 className=\"prop\">followers: {v.followUsers}</h3>\r\n                        <p className=\"prop\">{(v.departureDate.slice(0, 10)).replace(/-/g, \"/\")} - {(v.returnDate.slice(0, 10).replace(/-/g, \"/\"))}</p>\r\n                        <h2 className=\"prop\">{v.price}$</h2>\r\n                        <p className=\"prop desc\">{v.description}</p>\r\n                    </Paper>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Main\r\n\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport 'date-fns';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from '@material-ui/pickers';\r\n\r\n\r\n\r\nconst Vacconfig = ({ history }) => {\r\n\r\n    const user = useSelector(state => state.user)\r\n    const vacation = useSelector(state => state.vacation)\r\n    \r\n    const [departureDate, setDepartureDate] = useState(vacation.departureDate);\r\n    const [returnDate, setReturnDate] = useState(vacation.returnDate);\r\n    \r\n    // console.log(user)\r\n    useEffect(() => {\r\n        if (!user.Fname) {\r\n            history.push('/login')\r\n        }\r\n    }, [user, history])\r\n\r\n    // console.log(vacation)\r\n    let addingVacation = vacation\r\n    const handleSubmit = async (e) => {\r\n        let body = JSON.stringify({\r\n            city: addingVacation.city,\r\n            country: addingVacation.country,\r\n            description: addingVacation.description,\r\n            image: addingVacation.image,\r\n            departureDate: departureDate,\r\n            returnDate: returnDate,\r\n            price: addingVacation.price\r\n        })\r\n        if (vacation.id) {\r\n            //update\r\n            console.log(addingVacation)\r\n            let res = await fetch(\"http://localhost:1000/vacations/update/\" + vacation.id, {\r\n                method: \"PUT\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    \"Authorization\": localStorage.token\r\n                },\r\n                body\r\n            })\r\n            let data = await res.json()\r\n            if (data.error) {\r\n                console.log(data)\r\n            \r\n            } else {\r\n                history.push('/main')\r\n                console.log(data)\r\n            }\r\n        } else {\r\n            //add\r\n            let res = await fetch(\"http://localhost:1000/vacations/add\", {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    \"Authorization\": localStorage.token\r\n                },\r\n                body\r\n            })\r\n            let data = await res.json()\r\n            if (data.error) {\r\n                console.log(data)\r\n                // setErrMsg(data.msg)\r\n                // handleOpen()\r\n            } else {\r\n                history.push('/main')\r\n                console.log(data)\r\n            }\r\n        }\r\n    }\r\n  \r\n\r\n\r\n    const handleDepDateChange = (date) => {\r\n        \r\n        console.log(date)\r\n\r\n        setDepartureDate(date);\r\n    }\r\n    const handleRetDateChange = (date) => {\r\n        console.log(date)\r\n        setReturnDate(date);\r\n    }\r\n\r\n    const goBack = () => {\r\n        history.push('/main')\r\n    }\r\n\r\n    //city, country, image, departureDate, returnDate, description, price\r\n    return (\r\n        <div className=\"vacConfig\">\r\n            <form className=\"vacconfig-form\">\r\n                <TextField margin=\"normal\" className=\"vacConfig-inp\" label=\"city\" defaultValue={vacation.city} variant=\"outlined\" onChange={e => addingVacation.city = e.target.value} />\r\n                <TextField margin=\"normal\" className=\"vacConfig-inp\" label=\"country\" defaultValue={vacation.country} variant=\"outlined\" onChange={e => addingVacation.country = e.target.value} />\r\n                <TextField margin=\"normal\" className=\"vacConfig-inp\" label=\"price\" defaultValue={vacation.price} variant=\"outlined\" onChange={e => addingVacation.price = e.target.value} />\r\n                <TextField margin=\"normal\" className=\"vacConfig-inp\" multiline rows={3} label=\"description\" defaultValue={vacation.description} variant=\"outlined\" onChange={e => addingVacation.description = e.target.value} />\r\n                <TextField margin=\"normal\" className=\"vacConfig-inp\" fullWidth label=\"image\" defaultValue={vacation.image} variant=\"outlined\" onChange={e => addingVacation.image = e.target.value} />\r\n\r\n                {/* <TextField margin=\"normal\" className=\"vacConfig-inp\" label=\"departure date\" defaultValue={vacation.departureDate} variant=\"outlined\" onChange={e => addingVacation.departureDate = e.target.value} /> */}\r\n                <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                    <Grid container justify=\"space-around\">\r\n                        <KeyboardDatePicker\r\n                            className=\"vacConfig-inp\"\r\n                            disableToolbar\r\n                            // variant=\"inline\"\r\n                            format=\"dd/MM/yyyy\"\r\n                            margin=\"normal\"\r\n                            id=\"date-picker-inline\"\r\n                            label=\"Departure Date\"\r\n                            value={departureDate}\r\n                            onChange={handleDepDateChange}\r\n                            KeyboardButtonProps={{\r\n                                'aria-label': 'change date',\r\n                            }}\r\n                        />\r\n                    </Grid>\r\n                </MuiPickersUtilsProvider>\r\n\r\n                <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                    <Grid container justify=\"space-around\">\r\n                        <KeyboardDatePicker\r\n                            className=\"vacConfig-inp\"\r\n                            disableToolbar\r\n                            // variant=\"inline\"\r\n                            format=\"dd/MM/yyyy\"\r\n                            margin=\"normal\"\r\n                            id=\"date-picker-inline\"\r\n                            label=\"Return Date\"\r\n                            value={returnDate}\r\n                            onChange={handleRetDateChange}\r\n                            KeyboardButtonProps={{\r\n                                'aria-label': 'change date',\r\n                            }}\r\n                        />\r\n                    </Grid>\r\n                </MuiPickersUtilsProvider>\r\n\r\n                {/* <TextField margin=\"normal\" className=\"vacConfig-inp\" label=\"return date\" defaultValue={vacation.returnDate} variant=\"outlined\" onChange={e => addingVacation.returnDate = e.target.value} /> */}\r\n\r\n                <div className=\"btn-cont\">\r\n                    <Button onClick={handleSubmit} variant=\"contained\" color=\"secondary\" className=\"vacconfig-btn\">\r\n                        {vacation.id ? (\"update vacation\") : (\"add vacation\")}\r\n                    </Button>\r\n                    <Button variant=\"contained\" color=\"primary\" className=\"vacconfig-btn\" onClick={goBack}>cancle</Button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n} \r\nexport default Vacconfig\r\n","import { Button } from '@material-ui/core'\r\nimport React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst Removevac = ({ history }) => {\r\n\r\n    const vacation = useSelector(state => state.vacation)\r\n    console.log(vacation)\r\n    const handleSubmit = async (e) => {\r\n        let res = await fetch(\"http://localhost:1000/vacations/remove/\" + vacation.id, {\r\n            method: \"DELETE\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Authorization\": localStorage.token\r\n            }\r\n        })\r\n        let data = await res.json()\r\n        if (data.error) {\r\n            console.log(data)\r\n            // setErrMsg(data.msg)\r\n            // handleOpen()\r\n        } else {\r\n            history.push('/main')\r\n            console.log(data)\r\n        }\r\n    }\r\n\r\n    const goBack = () => {\r\n        history.push('/main')\r\n    }\r\n    return (\r\n        <div className=\"removevac\">\r\n            <form className=\"removevac-form\">\r\n                <h1>are you sure you want to remove the vacation in {vacation.country}?</h1>\r\n                <h2>it has {vacation.followUsers} followers!</h2>\r\n                <Button onClick={handleSubmit} variant=\"contained\" color=\"secondary\" className=\"vacconfig-btn\">remove</Button>\r\n                <Button variant=\"contained\" color=\"primary\" className=\"vacconfig-btn\" onClick={goBack}>cancle</Button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Removevac\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport Button from '@material-ui/core/Button';\r\nimport { Bar } from 'react-chartjs-2';\r\n\r\nconst Reports = ({ history }) => {\r\n\r\n    const [vacations, setVacations] = useState([])\r\n    let chartData\r\n    const user = useSelector(state => state.user)\r\n    let labels = []\r\n    let followers = []\r\n\r\n    useEffect(() => {\r\n        if (!user.Fname) {\r\n            history.push('/login')\r\n        }\r\n    }, [user, history])\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            const res = await fetch('http://localhost:1000/vacations')\r\n            const data = await res.json()\r\n            console.log(data)\r\n            setVacations(data)\r\n        })()\r\n    }, [])\r\n\r\n    const goBack = () => {\r\n        history.push('/main')\r\n    }\r\n\r\n    console.log(vacations)\r\n    console.log(user)\r\n    if (vacations.length > 0) {\r\n\r\n        vacations.forEach(v => {\r\n            if (v.followUsers > 0) {\r\n                labels.push(v.city)\r\n                followers.push(v.followUsers)\r\n            }\r\n        });\r\n    }\r\n    console.log(labels)\r\n    console.log(followers)\r\n    if (labels.length > 0) {\r\n        chartData = {\r\n            labels,\r\n            datasets: [{\r\n                label: 'followers',\r\n                data: followers,\r\n                backgroundColor: 'rgba(54, 162, 235, 0.6)',\r\n                yAxisID: 0\r\n            }]\r\n        }\r\n    }\r\n    // setChartData({\r\n    console.log(chartData)\r\n    // })\r\n    return (\r\n        <div className=\"reports\">\r\n            <div className=\"rep-form\">\r\n                <Bar\r\n                    className = 'chart-Bar'\r\n                    data={chartData}\r\n                    options={{\r\n                        maintainAspectRatio: false,\r\n                        scales: {\r\n                            yAxes: [{\r\n                                stacked: true\r\n                            }]\r\n                        }\r\n                    }}\r\n                />\r\n            </div>\r\n            <div className=\"btn-cont\">\r\n                <Button variant=\"contained\" color=\"primary\" className=\"vacconfig-btn\" onClick={goBack}>back</Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Reports\r\n","import React, { useEffect } from 'react'\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { BrowserRouter as Router, Route, Link, Switch, Redirect } from 'react-router-dom'\nimport Login from './Login';\nimport Register from './Register';\nimport Main from './Main';\nimport { useSelector, useDispatch } from 'react-redux'\nimport jwt_decode from 'jwt-decode'\nimport Vacconfig from './Vacconfig';\nimport Removevac from './Removevac';\nimport Reports from './Reports';\nimport logo from './logo.png'\n\nconst App = () => {\n  const dispatch = useDispatch()\n  const user = useSelector(state => state.user)\n  useEffect(() => {\n    if (localStorage.token) {\n      let decoded = jwt_decode(localStorage.token)\n      console.log(decoded)\n      dispatch({\n        type: \"LOGIN\",\n        payload: decoded\n      })\n    }\n  }, [dispatch])\n//\n  const logout = () => {\n    localStorage.removeItem(\"token\")\n    dispatch({\n      type: \"LOGOUT\"\n    })\n  }\n\n  const handleAddVacation = () => {\n    dispatch({\n      type: 'ADD_VACATION',\n      payload: {}\n    })\n  }\n\n  return (\n    <>\n      <Router>\n        <AppBar className=\"appBar\" position=\"fixed\">\n          <Toolbar className=\"toolBar\">\n            <div>\n            <img src={logo} alt=\"\" className=\"logo\" width=\"120\" />\n            </div>\n            {user.Fname ? (\n              <>\n                {user.category === \"admin\" ? (\n                  <>\n                    <div>\n                      <Link to=\"/add\"><Button className=\"nav-btn brand\" style={{width: \"5%\"}} onClick={handleAddVacation}>add</Button></Link>\n                      <Link to=\"/reports\"><Button className=\"nav-btn\" width={10} style={{width: \"5%\"}} onClick={handleAddVacation}>reports</Button></Link>\n                      <Button className=\"nav-btn\" style={{width: \"5%\"}} width={10} onClick={logout}>Logout</Button>\n                    </div>\n                  </>\n                ) : (\n                    <>\n                      <Button className=\"nav-btn\" style={{width: \"5%\"}} onClick={logout}>Logout</Button>\n\n                    </>\n                  )}\n                <Typography variant=\"h6\" className=\"brand\">\n                  Hello {user.Fname}\n                </Typography>\n              </>\n            ) : (\n                <>\n                  <div>\n                    <Link to=\"/login\"><Button className=\"nav-btn\">Login</Button></Link>\n                    <Link to=\"/register\"><Button className=\"nav-btn\" margin=\"normal\">Register</Button></Link>\n                  </div>\n                </>\n              )}\n          </Toolbar>\n        </AppBar>\n        <Switch>\n          <Route path=\"/login\" component={Login} />\n          <Route path=\"/register\" component={Register} />\n          <Route path=\"/main\" component={Main} />\n          <Route path=\"/add\" component={Vacconfig} />\n          <Route path=\"/update\" component={Vacconfig} />\n          <Route path=\"/remove\" component={Removevac} />\n          <Route path=\"/reports\" component={Reports} />\n          <Redirect from=\"/" to=\"/login\" />\n        </Switch>\n      </Router>\n    </>\n  )\n}\n\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { createStore, combineReducers } from 'redux'\nimport { userReducer, vacationReducer } from './redux/reducers';\nimport { Provider } from 'react-redux'\n\nconst store = createStore(combineReducers({\n  user: userReducer,\n  vacation: vacationReducer\n}))\n\nReactDOM.render(\n  <Provider store={store}>\n      <App />\n    </Provider>,\n  document.getElementById('root')\n);\n","\r\n// user ===> login, logout\r\nexport const userReducer = (state = {}, action) =>{\r\n    switch (action.type) {\r\n        case 'LOGIN':\r\n            return action.payload;\r\n        case 'LOGOUT':\r\n            return {}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const vacationReducer = (state = {}, action) =>{\r\n    switch (action.type){\r\n        case 'ADD_VACATION':\r\n            return {};\r\n        case 'UPDATE_VACATION':\r\n            return action.payload;\r\n        case 'REMOVE_VACATION':\r\n            return action.payload;\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n"],"sourceRoot":""}
